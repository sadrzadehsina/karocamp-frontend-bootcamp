# 🎯 چالش آسان مرحله ۷-۰۱: ماشین حساب ایمن (مرحله ۷ - مدیریت خطا و دیباگ)

## 📝 توضیحات

یک ماشین حساب بسازید که انواع خطاها را به‌درستی مدیریت کند و پیام‌های خطای مناسب به کاربر نمایش دهد.

## 🎯 اهداف

- تمرین با بلاک‌های `try`، `catch` و `finally`
- مدیریت انواع مختلف خطا
- نمایش پیام خطای کاربرپسند
- پیاده‌سازی لاگ خطا برای دیباگ

## 📋 الزامات

۱. ماشین حساب با عملیات پایه:
   - جمع، تفریق، ضرب، تقسیم
   - پشتیبانی از اعداد اعشاری
   - دکمه پاک‌کردن و پاک‌کردن همه
   - نمایش محاسبه فعلی و نتیجه

۲. سناریوهای مدیریت خطا:
   - تقسیم بر صفر
   - ورودی نامعتبر (حروف، نمادها)
   - اعداد بسیار بزرگ (overflow)
   - فیلدهای خالی
   - خطاهای ریاضی (ریشه منفی)

۳. الزامات پیاده‌سازی:
   - استفاده از بلاک‌های `try-catch` برای همه محاسبات
   - استفاده از `finally` برای لاگ عملیات
   - نمایش پیام خطای کاربرپسند
   - جلوگیری از کرش کردن ماشین حساب
   - نگهداری لاگ خطا در کنسول برای دیباگ

## 💡 ساختار نمونه HTML

```html
<div class="calculator">
  <div class="display">
    <input type="text" id="result" readonly>
    <div id="errorMessage" class="error-display"></div>
  </div>
  <div class="buttons">
    <button onclick="clearAll()">AC</button>
    <button onclick="clearEntry()">CE</button>
    <button onclick="appendNumber('7')">7</button>
    <button onclick="appendNumber('8')">8</button>
    <!-- دکمه‌های بیشتر -->
    <button onclick="calculate()">=</button>
  </div>
</div>
```

## 🚀 توابع مورد انتظار

```javascript
function calculate() {
  try {
    // انجام محاسبه
    // مدیریت انواع خطا
  } catch (error) {
    // نمایش پیام کاربرپسند
    // لاگ خطای دقیق
  } finally {
    // لاگ عملیات برای دیباگ
  }
}

function divide(a, b) {
  try {
    if (b === 0) {
      throw new Error("تقسیم بر صفر مجاز نیست");
    }
    return a / b;
  } catch (error) {
    throw error; // ارسال مجدد برای مدیریت در سطح بالاتر
  }
}
```

## ✅ خطاهای مورد انتظار

- **تقسیم بر صفر**: «تقسیم بر صفر مجاز نیست»
- **ورودی نامعتبر**: «لطفاً فقط عدد وارد کنید»
- **بیش‌ازحد بزرگ**: «عدد خیلی بزرگ است»
- **محاسبه خالی**: «لطفاً یک محاسبه وارد کنید»
- **عملیات نامعتبر**: «عملیات ریاضی نامعتبر است»

## ✅ مباحث مورد انتظار

- بلاک‌های `try { } catch (error) { }`
- `finally { }` برای لاگ و پاکسازی
- پرتاب خطای سفارشی با `throw new Error()`
- نمایش پیام خطا
- لاگ در کنسول برای دیباگ

## 🌟 نکته تکمیلی

- افزودن توابع علمی (سینوس، کسینوس، جذر)
- پیاده‌سازی تاریخچه محاسبات با خطاها
- اعتبارسنجی ورودی قبل از محاسبه
- دسته‌بندی خطاها (خطای کاربر/سیستم)
